<UserControl x:Class="VPlayer.WindowsPlayer.Views.WindowsPlayer.VideoPlayerView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:b="http://schemas.microsoft.com/xaml/behaviors"
             xmlns:behaviors="clr-namespace:VPlayer.Player.Behaviors"
             xmlns:behaviors1="clr-namespace:VPlayer.WindowsPlayer.Behaviors"
             xmlns:controls="clr-namespace:VCore.Controls;assembly=VCore.WPF"
             xmlns:controls1="clr-namespace:VPlayer.WindowsPlayer.Vlc.Controls"
             xmlns:converters="clr-namespace:VCore.Converters;assembly=VCore.WPF"
             xmlns:converters1="clr-namespace:VPlayer.WindowsPlayer.Converters"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:interactivity="http://prismlibrary.com/"
             xmlns:local="clr-namespace:VPlayer.WindowsPlayer.Views.WindowsPlayer"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:vlc="clr-namespace:VPlayer.WindowsPlayer.Vlc"
             d:DesignHeight="450"
             d:DesignWidth="800"
             mc:Ignorable="d">


    <ContentControl Margin="1,0,0,0">
        <Grid>
            <vlc:VideoView x:Name="VideoView" MediaPlayer="{Binding MediaPlayer}">
                <Grid HorizontalAlignment="Stretch"
                      VerticalAlignment="Stretch"
                      Background="#01000000">

                    <Menu x:Name="VideoMenu"
                          Padding="0,0"
                          VerticalAlignment="Top"
                          Background="#101010">
                        <MenuItem Height="35"
                                  Header="Audio tracks"
                                  IsEnabled="{Binding AudioTracks.Count, Converter={converters1:EmptyItemSourceToDisable}}"
                                  ItemsSource="{Binding AudioTracks}">
                            <MenuItem.ItemContainerStyle>
                                <Style BasedOn="{StaticResource {x:Type MenuItem}}" TargetType="MenuItem">
                                    <Setter Property="IsChecked" Value="{Binding IsSelected}" />
                                    <Setter Property="IsCheckable" Value="True" />
                                </Style>
                            </MenuItem.ItemContainerStyle>
                            <MenuItem.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding Description}" />
                                </DataTemplate>
                            </MenuItem.ItemTemplate>
                        </MenuItem>

                        <MenuItem Height="35"
                                  Header="Subtitles"
                                  IsEnabled="{Binding Subtitles.Count, Converter={converters1:EmptyItemSourceToDisable}}"
                                  ItemsSource="{Binding Subtitles}">
                            <MenuItem.ItemContainerStyle>
                                <Style BasedOn="{StaticResource {x:Type MenuItem}}" TargetType="MenuItem">
                                    <Setter Property="IsChecked" Value="{Binding IsSelected}" />
                                    <Setter Property="IsCheckable" Value="True" />
                                </Style>
                            </MenuItem.ItemContainerStyle>
                            <MenuItem.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding Description}" />
                                </DataTemplate>
                            </MenuItem.ItemTemplate>

                        </MenuItem>
                    </Menu>

                    <controls1:FullscreenPlayer x:Name="FullscreenPlayer" Visibility="Hidden" />

                    <b:Interaction.Behaviors>
                        <behaviors1:FullScreenBehavior x:Name="FullScreenBehavior" PlayerDataContext="{Binding PlayerViewModel}" />
                    </b:Interaction.Behaviors>
                </Grid>



                <b:Interaction.Triggers>
                    <b:EventTrigger EventName="Loaded">
                        <b:InvokeCommandAction Command="{Binding VideoViewInitlized}" />
                    </b:EventTrigger>
                </b:Interaction.Triggers>
            </vlc:VideoView>


        </Grid>
    </ContentControl>
</UserControl>
